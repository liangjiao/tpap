/*! caja-kissy  */
KISSY.add("openjs/kissy/1.3.0/imagezoom",function(t,n){function e(t){function e(t){this.inner=new n(t)}return e.prototype.set=function(t,n){var e="imagesrc"==(""+t).toLowerCase()||"bigimagesrc"==(""+t).toLowerCase();this.inner.set(t,e?cajaAFTB.rewriteURL(n,null,null,{XML_ATTR:"href"})?n:"":n)},e.prototype.get=function(t){return this.inner.get(t)},t.markCtor(e),t.grantMethod(e,"set"),t.grantMethod(e,"get"),function(n){return{ImageZoom:t.markFunction(function(){var t=KISSY.all(n.mod).children().item(0).children().item(0),o=t[0].appendChild(document.createElement("div"));KISSY.all(o).hide();var i=arguments[0];return i={imageNode:r.get(i.imageNode,n.mod),align:null!=i.align?{node:r.get(i.align.node,n.mod),points:i.align.points,offset:i.align.offset}:null,type:i.type,bigImageSrc:cajaAFTB.rewriteURL(i.bigImageSrc,null,null,{XML_ATTR:"href"})?i.bigImageSrc:"",bigImageWidth:i.bigImageWidth,bigImageHeight:i.bigImageHeight,width:i.width,height:i.height,hasZoom:i.hasZoom,prefixCls:null==i.prefixCls?"imagezoom-":i.prefixCls,elBefore:o},new e(i)}),kissy:!0}}}var r=t.DOM;return t.Event,e},{requires:["imagezoom"]});